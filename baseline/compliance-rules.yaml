# Mandatory compliance rules for all policies
requiredExclusions:
  groups:
    - "AAD-BreakGlass-Accounts"  # Always exclude break-glass accounts
  users: []

# Scope-specific requirements
scopeRequirements:
  admins:
    mandatoryControls:
      - "mfa"
    mandatoryPlatforms:
      - "all"
    forbiddenStates:
      - "disabled"
  
  externals:
    forbiddenClientAppTypes:
      - "exchangeActiveSync"  # Block legacy auth for external users
    mandatoryControls:
      - "mfa"
    mandatoryPlatforms:
      - "all"
  
  allusers:
    mandatoryControls:
      - "mfa"
    mandatoryPlatforms:
      - "all"
  
  app:
    mandatoryControls:
      - "mfa"
    mandatoryPlatforms:
      - "all"

# Policy state restrictions
allowedStates:
  - enabled
  - enabledForReportingButNotEnforced  # Report-only mode for testing
  - disabled  # Only for emergency situations
